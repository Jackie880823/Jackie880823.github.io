---
layout: post
title:  android 为什么使用dp单位，它的真正优势在哪里？
---
*文章转自：[http://blog.csdn.net/a506998967/article/details/54924283](http://blog.csdn.net/a506998967/article/details/54924283)*

&#160;&#160;&#160;&#160;&#160;&#160;&#160;很多新手开发人员，不是很明白dp的真正好处，只是知道这样用，那么今天我用我的理解来解释下，有不对之处，欢迎指正！

&#160;&#160;&#160;&#160;&#160;&#160;&#160;什么是**dp**:是一种与**像素密度**无关的单位。那什么是**像素密度**呢？先来解释下**像素密度**。

&#160;&#160;&#160;&#160;&#160;&#160;&#160;**像素密度**就是所谓的dpi，每英寸像素的数量。

<p align="center"> ![image](https://github.com/Jackie880823/Jackie880823.github.io/blob/master/img/waht-is-dp/es.gif?raw=true)

&#160;&#160;&#160;&#160;&#160;&#160;&#160;比如手机的屏幕的物理尺寸为`1.5英寸x2英寸`，屏幕分辨率为`240x320`，则我们可以计算出在这部手机的屏幕上，每英寸包含的像素点的数量为：

	240/1.5=160dpi（横向）
	
&#160;&#160;&#160;&#160;&#160;&#160;&#160;或

	320/2=160dpi（纵向）

&#160;&#160;&#160;&#160;&#160;&#160;&#160;160dpi就是这部手机的像素密度，即每英寸有160个像素点。

&#160;&#160;&#160;&#160;&#160;&#160;&#160;如果同为`1.5英寸x2英寸`,屏幕分辨率为`360x480`，每英寸包含的像素点的数量为:

	360/1.5=240dpi（横向）

&#160;&#160;&#160;&#160;&#160;&#160;&#160;或

	480/2=240dpi（纵向）

&#160;&#160;&#160;&#160;&#160;&#160;&#160;240dpi就是这部手机的像素密度，即每英寸有240个像素点。

&#160;&#160;&#160;&#160;&#160;&#160;&#160;在这种情况下，如果我们要画一条占满整个屏幕宽度的线，如果不用`dp`，而是使用传统的`px`，那么当屏幕的物理尺寸为`1.5英寸*2英寸`，屏幕分辨率为`240*320`这样的手机上画一条横线的时候，你在布局里把线的长度设置为240px，那么你这条线会刚好占满整个屏幕宽度。但是，如果此时你的app运行在同为`1.5英寸*2英寸`,但屏幕分辨率为`360*480`，你就会发现，你的这条线并不能铺满整个屏幕宽度，而是只占三分之二屏幕宽度。而如果你用dp，比如**240dp**，那么当你在第一种情况下时(**1.5英寸x2英寸,屏幕分辨率为240x320**),系统会根据对应的dpi转成px；这里涉及到一个公式：

	px=dp*(dpi/160)

因此线的长度就是`240＊(160/160)=240px`，刚好铺满整个屏幕宽度，当在第二种情况下时(`1.5英寸x2英寸,屏幕分辨率为360*480`)，线的长度就是`240*(240/160)=360px`，刚好也是铺满整个屏幕的宽度。所以使用dp完全不用关心屏幕的密度，Android会帮我们自动转化。这里有人可能会说了，我可以在res目录下建立`value-w240px,value-w360px`这样的文件夹，这两个文件夹分别放置适配这两种分辨率的尺寸文件dimens.xml,这样不就可以了吗？当然，android完全可以这么做，但是你不觉得麻烦吗？你要为这两种分辨率都要配置不同的尺寸。而使用dp就不需要了。

&#160;&#160;&#160;&#160;&#160;&#160;&#160;当然，如果dp就上面那点好处的话，可能会有一些人会说，那我也可以用代码去实现，写个工具类，以最高的分辨率为标准（比如1080p），别的分辨率就以此标准分辨率为基准，等比例缩放，这样我就根本不用考虑屏幕密度了，一切以分辨率为准，我也可以做到像andorid那样自动转化。

&#160;&#160;&#160;&#160;&#160;&#160;&#160;但是有种情况你考虑过没？比如同为分辨率1080p的电视和平板，大家知道，电视屏幕的物理尺寸比平板大得多，假如相同的一套分辨率为1080p的UI,比如里面的某个button，你在电视看有那么大，但是放到平板上可能小得可怜，用户体验差，因为分辨率都是1080p，但是平板因为相对于电视来说屏幕比较小，所以相同的分辨率，它的dpi要大得多，即每英寸的像素数量要大得多，所以同样的像素数量，平板上看着要小，这样就没有做到让UI显得足够精细。但是如果我们用dp，我们可以在res目录下建立类似value-w540dp-xhdpi，这同样表示1080p的分辨率，但是我可以细分到某个具体的像素密度(dpi)的分辨率, 这样我们就可以为我们的这个小平板定制合适的尺寸或者布局，可以做到让UI足够精细，而如果你使用px，你怎么都做不到。

&#160;&#160;&#160;&#160;&#160;&#160;&#160;所以，单位**dp**的最大优势是：`可以防止同样的分辨率在不同物理尺寸的屏幕上带来的差异，可以让UI适配得足够精细，而不是完全等比例缩放，可以做到一定程度的定制，足够精细。`
